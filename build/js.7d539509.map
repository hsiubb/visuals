{"version":3,"sources":["js/lightbox.js","js/maze.js","js/snow.js","js/spiral.js","js/heartbeat.js","js/roundshield.js","js/index.js"],"names":["lightbox","window","evnt_start","evnt_move","evnt_end","COLORS","total_size","unit_size","ori","boxes","cvs","document","createElement","ctx","getContext","light_count","Box","i","j","x","y","opacity","color","Math","floor","random","length","create_box","box","pos_idx","e","func","pos","pageX","pageY","parseInt","update","fillStyle","fillRect","requestAnimationFrame","prototype","max","save","translate","globalAlpha","beginPath","closePath","restore","interlock","dir","setTimeout","addEventListener","id","getElementById","offsetLeft","offsetTop","min","offsetWidth","offsetHeight","style","width","height","set_lightbox","map","box_col","innerHTML","appendChild","maze","globalSize","unitSize","grids","ev_status","type","grid_count","Grid","t","r","b","l","set_maze","cover","setAttribute","stopPropagation","parentNode","path","build_count","col","grid","build","grid_check","d","cur","from","relate","next","aim","tar","check_builed","check","push","pop","removeChild","box_init","set_grid","grid_col","spread","lineWidth","strokeStyle","moveTo","lineTo","stroke","dis","_this","snow","flakes","wind","Flake","z","grad_random","is_fall","step","total","list","val","unshift","reverse","rand","result","size","sp_x","sp_y","arc","PI","fill","flake_count","set_flates","flake","tar_sp_x","abs","spiral","rotate_spiral","radius","clockwise","rotate","s_x","cos","s_y","sin","heartbeat","beat_unit","points","get_rate","drawLine","len","k","point","round_shield","create_hexagon","num","text","create_row","slice","call","querySelectorAll","block","left","title_tag","getAttribute","removeAttribute"],"mappings":"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","file":"js.7d539509.map","sourceRoot":"..\\src","sourcesContent":["let lightbox;\r\n(function() {\r\n\tif('ontouchstart' in window) {\r\n\t\tevnt_start = 'touchstart';\r\n\t\tevnt_move = 'touchmove';\r\n\t\tevnt_end = 'touchend';\r\n\t} else {\r\n\t\tevnt_start = 'mousedown';\r\n\t\tevnt_move = 'mousemove';\r\n\t\tevnt_end = 'mouseup';\r\n\t}\r\n\r\n\tconst COLORS = ['#ed7700','#ffe100','#c73379','#1f38c1','#2db1b9','#7ba918'];\r\n\r\n\tlet total_size, unit_size;\r\n\tlet ori = {};\r\n\tlet boxes = [];\r\n\tlet cvs = document.createElement('canvas');\r\n\tlet ctx = cvs.getContext('2d');\r\n\r\n\tlet light_count = 16;\r\n\tfunction Box(i, j) {\r\n\t\tthis.x = i * unit_size;\r\n\t\tthis.y = j * unit_size;\r\n\t\tthis.opacity = .3;\r\n\t\tthis.color = COLORS[Math.floor(Math.random() * COLORS.length)];\r\n\t}\r\n\tBox.prototype.update = function() {\r\n\t\tthis.opacity = Math.max(.3, this.opacity - .05);\r\n\t\tctx.save();\r\n\t\t\tctx.translate(this.x, this.y);\r\n\t\t\tctx.globalAlpha = this.opacity;\r\n\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = this.color;\r\n\t\t\t\tctx.fillRect(0, 0, unit_size, unit_size);\r\n\t\t\tctx.closePath();\r\n\t\tctx.restore();\r\n\t}\r\n\tBox.prototype.interlock = function(dir, i, j) {\r\n\t\tboxes[i][j].opacity = 1;\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tswitch(dir) {\r\n\t\t\t\tcase 'all':\r\n\t\t\t\t\tboxes[i] && boxes[i][j] && boxes[i][j].interlock('up', i, j);\r\n\t\t\t\t\tboxes[i] && boxes[i][j] && boxes[i][j].interlock('down', i, j);\r\n\t\t\t\t\tboxes[i] && boxes[i][j] && boxes[i][j].interlock('left', i, j);\r\n\t\t\t\t\tboxes[i] && boxes[i][j] && boxes[i][j].interlock('right', i, j);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'up':\r\n\t\t\t\t\tboxes[i] && boxes[i][j - 1] && boxes[i][j - 1].interlock('up', i, j - 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'down':\r\n\t\t\t\t\tboxes[i] && boxes[i][j + 1] && boxes[i][j + 1].interlock('down', i, j + 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\tboxes[i - 1] && boxes[i - 1][j] && boxes[i - 1][j].interlock('left', i - 1, j);\r\n\t\t\t\t\tboxes[i - 1] && boxes[i - 1][j] && boxes[i - 1][j].interlock('up', i - 1, j);\r\n\t\t\t\t\tboxes[i - 1] && boxes[i - 1][j] && boxes[i - 1][j].interlock('down', i - 1, j);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'right':\r\n\t\t\t\t\tboxes[i + 1] && boxes[i + 1][j] && boxes[i + 1][j].interlock('right', i + 1, j);\r\n\t\t\t\t\tboxes[i + 1] && boxes[i + 1][j] && boxes[i + 1][j].interlock('up', i + 1, j);\r\n\t\t\t\t\tboxes[i + 1] && boxes[i + 1][j] && boxes[i + 1][j].interlock('down', i + 1, j);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}, 30);\r\n\t}\r\n\r\n\tfunction create_box(i, j) {\r\n\t\tlet box = new Box(i, j);\r\n\t\tboxes[i][j] = box;\r\n\t}\r\n\tfunction set_lightbox() {\r\n\t\tfor(let i=0; i<light_count; i++) {\r\n\t\t\tboxes[i] = [];\r\n\t\t\tfor(let j=0; j<light_count; j++) {\r\n\t\t\t\tcreate_box(i, j);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tboxes.update = function() {\r\n\t\t\tboxes.map(function(box_col) {\r\n\t\t\t\tbox_col.map(function(box) {\r\n\t\t\t\t\tbox.update();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction pos_idx(e, func) {\r\n\t\tlet pos = {};\r\n\t\tpos.x = e.pageX - ori.x;\r\n\t\tpos.y = e.pageY - ori.y;\r\n\r\n\t\tlet i = parseInt(pos.x / unit_size);\r\n\t\tlet j = parseInt(pos.y / unit_size);\r\n\r\n\t\tboxes[i] && boxes[i][j] && func(boxes[i][j], i, j);\r\n\t}\r\n\tcvs.addEventListener(evnt_start, function(e) {\r\n\t\tpos_idx(e, function(box, i, j) {\r\n\t\t\tbox.interlock('all', i, j);\r\n\t\t});\r\n\t});\r\n\r\n\tcvs.addEventListener(evnt_move, function(e) {\r\n\t\tpos_idx(e, function(box) {\r\n\t\t\tbox.opacity = 1;\r\n\t\t});\r\n\t});\r\n\r\n\r\n\tlightbox = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tori.x = box.offsetLeft;\r\n\t\tori.y = box.offsetTop;\r\n\r\n\t\ttotal_size = Math.min(box.offsetWidth, box.offsetHeight);\r\n\t\tunit_size = total_size / light_count;\r\n\r\n\t\tcvs.style.width = total_size;\r\n\t\tcvs.style.height = total_size;\r\n\t\tcvs.width = total_size;\r\n\t\tcvs.height = total_size;\r\n\r\n\t\tset_lightbox();\r\n\r\n\t\tbox.innerHTML = '';\r\n\t\tbox.appendChild(cvs);\r\n\t\tupdate();\r\n\t}\r\n\r\n\tfunction update() {\r\n\t\tctx.fillStyle = '#fff';\r\n\t\tctx.fillRect(0, 0, total_size, total_size);\r\n\r\n\t\tboxes.update();\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\t}\r\n\r\n}());\r\n\r\nlightbox('lightbox');\r\n","let maze;\r\n(function() {\r\n\tif('ontouchstart' in window) {\r\n\t\tevnt_start = 'touchstart';\r\n\t\tevnt_move = 'touchmove';\r\n\t\tevnt_end = 'touchend';\r\n\t} else {\r\n\t\tevnt_start = 'mousedown';\r\n\t\tevnt_move = 'mousemove';\r\n\t\tevnt_end = 'mouseup';\r\n\t}\r\n\tfunction random(min, max) {\r\n\t\tmin = parseInt(min);\r\n\t\tmax = parseInt(max);\r\n\t\treturn Math.floor(Math.random() * (max - min)) + min;\r\n\t}\r\n\r\n\tlet ori = {};\r\n\tlet grids = [];\r\n\tlet globalSize;\r\n\tlet unitSize;\r\n\tlet cvs = document.createElement('canvas');\r\n\tlet ctx = cvs.getContext('2d');\r\n\tlet ev_status = {\r\n\t\ttype: 'spread'\r\n\t};\r\n\r\n\tlet grid_count = 16;\r\n\tlet direction = 'trbl';\r\n\tfunction Grid(i, j) {\r\n\t\tlet _this = this;\r\n\t\t_this.dir = {\r\n\t\t\tt: false,\r\n\t\t\tr: false,\r\n\t\t\tb: false,\r\n\t\t\tl: false\r\n\t\t};\r\n\t\t_this.opacity = 1;\r\n\t\t_this.i = i;\r\n\t\t_this.j = j;\r\n\t\t_this.x = (i + .5) * unitSize;\r\n\t\t_this.y = (j + .5) * unitSize;\r\n\t\t_this.t = [_this.x, j * unitSize];\r\n\t\t_this.b = [_this.x, (j + 1) * unitSize + .5];\r\n\t\t_this.r = [(i + 1) * unitSize + .5, _this.y];\r\n\t\t_this.l = [i * unitSize, _this.y];\r\n\t}\r\n\tGrid.prototype.update = function() {\r\n\t\tlet _this = this;\r\n\t\t_this.opacity = Math.min(1, _this.opacity + .05);\r\n\t\tctx.save();\r\n\t\t\tctx.lineWidth = 2;\r\n\t\t\tctx.strokeStyle = '#333';\r\n\t\t\tctx.globalAlpha = _this.opacity;\r\n\t\t\tfor(let d in _this.dir) {\r\n\t\t\t\tif(_this.dir[d]) {\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(_this.x, _this.y);\r\n\t\t\t\t\t\tctx.lineTo(_this[d][0], _this[d][1]);\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tctx.restore();\r\n\t}\r\n\tGrid.prototype.spread = function(dis, from) {\r\n\t\tif(dis) {\r\n\t\t\tdis--;\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.opacity = .05;\r\n\t\t\tfor(let dir in _this.dir) {\r\n\t\t\t\tif(dir !== from) {\r\n\t\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\t\tif(_this.dir[dir] && (dir === 't') && (_this.j !== 0)) {\r\n\t\t\t\t\t\t\tgrids[_this.i][_this.j - 1].spread(dis, 'b');\r\n\r\n\t\t\t\t\t\t} else if(_this.dir[dir] && (dir === 'b') && (_this.j !== (grid_count - 1))) {\r\n\t\t\t\t\t\t\tgrids[_this.i][_this.j + 1].spread(dis, 't');\r\n\r\n\t\t\t\t\t\t} else if(_this.dir[dir] && (dir === 'l') && (_this.i !== 0)) {\r\n\t\t\t\t\t\t\tgrids[_this.i - 1][_this.j].spread(dis, 'r');\r\n\r\n\t\t\t\t\t\t} else if(_this.dir[dir] && (dir === 'r') && (_this.i !== (grid_count - 1))) {\r\n\t\t\t\t\t\t\tgrids[_this.i + 1][_this.j].spread(dis, 'l');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction set_maze(x, y) {\r\n\t\tlet cover = document.createElement('div');\r\n\t\tcover.setAttribute('style', 'position:absolute;top:0;left:0;width:100%;height:100%;background:transparent;')\r\n\t\tcover.addEventListener(evnt_start, function(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\t\tcvs.parentNode.appendChild(cover);\r\n\r\n\t\tlet path = [];\r\n\r\n\t\tfunction from(d) {\r\n\t\t\tif(d === 'l') {\r\n\t\t\t\treturn 'r';\r\n\t\t\t} else if(d === 'r') {\r\n\t\t\t\treturn 'l';\r\n\t\t\t} else if(d === 't') {\r\n\t\t\t\treturn 'b';\r\n\t\t\t} else if(d === 'b') {\r\n\t\t\t\treturn 't';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet build_count = 0;\r\n\t\tfunction check_builed(relate, i, j) {\r\n\t\t\tlet tar = '';\r\n\t\t\tfunction check(d, i, j) {\r\n\t\t\t\tif(grids[i] && grids[i][j] && !grids[i][j].build) {\r\n\t\t\t\t\ttar += d;\r\n\t\t\t\t\trelate.push(grids[i][j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcheck('l', i - 1, j);\r\n\t\t\tcheck('r', i + 1, j);\r\n\t\t\tcheck('t', i, j - 1);\r\n\t\t\tcheck('b', i, j + 1);\r\n\r\n\t\t\treturn tar;\r\n\t\t}\r\n\r\n\t\tfunction grid_check(d, i, j) {\r\n\t\t\tlet cur = grids[i][j];\r\n\t\t\td && (cur.dir[from(d)] = true);\r\n\t\t\tif(!cur.build) {\r\n\t\t\t\tcur.build = true;\r\n\t\t\t\tbuild_count++;\r\n\t\t\t}\r\n\r\n\t\t\tlet relate = [];\r\n\t\t\tlet tar = check_builed(relate, i, j);\r\n\r\n\t\t\tlet next;\r\n\t\t\tlet aim;\r\n\r\n\t\t\tif(relate.length) {\r\n\t\t\t\tpath.push([cur, d]);\r\n\r\n\t\t\t\taim = random(0, relate.length);\r\n\t\t\t\ttar = tar[aim];\r\n\t\t\t\tnext = relate[aim];\r\n\t\t\t\tcur.dir[tar] = true;\r\n\t\t\t} else {\r\n\t\t\t\tpath.pop();\r\n\t\t\t\ttar = path[path.length - 1][1];\r\n\t\t\t\tnext = path[path.length - 1][0];\r\n\t\t\t}\r\n\r\n\t\t\tif(build_count < grid_count * grid_count) {\r\n\t\t\t\tif(relate.length) {\r\n\t\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\t\tgrid_check(tar, next.i, next.j);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgrid_check(tar, next.i, next.j);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcover.parentNode.removeChild(cover);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbuild_count = 0;\r\n\t\tgrids.map(function(col) {\r\n\t\t\tcol.map(function(grid) {\r\n\t\t\t\tgrid.build = false;\r\n\t\t\t\tgrid.dir = {\r\n\t\t\t\t\tt: false,\r\n\t\t\t\t\tr: false,\r\n\t\t\t\t\tb: false,\r\n\t\t\t\t\tl: false\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t// grid_check('', 0, 0);\r\n\t\tgrid_check('', x, y);\r\n\t}\r\n\r\n\tfunction set_grid() {\r\n\t\tfor(let i=0; i<grid_count; i++) {\r\n\t\t\tgrids[i] = [];\r\n\t\t\tfor(let j=0; j<grid_count; j++) {\r\n\t\t\t\tgrids[i][j] = new Grid(i, j);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgrids.update = function() {\r\n\t\t\tgrids.map(function(grid_col) {\r\n\t\t\t\tgrid_col.map(function(grid) {\r\n\t\t\t\t\tgrid.update();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tset_maze(random(0, grid_count), random(0, grid_count));\r\n\t}\r\n\r\n\tfunction box_init(box) {\r\n\t\tbox.innerHTML = '';\r\n\r\n\t\tori.x = box.offsetLeft;\r\n\t\tori.y = box.offsetTop;\r\n\t\tglobalSize = Math.min(box.offsetWidth, box.offsetHeight);\r\n\t\tunitSize = globalSize / grid_count;\r\n\r\n\t\tcvs.style.width = globalSize;\r\n\t\tcvs.style.height = globalSize;\r\n\t\tcvs.width = globalSize;\r\n\t\tcvs.height = globalSize;\r\n\r\n\t\tbox.appendChild(cvs);\r\n\r\n\t\tset_grid();\r\n\r\n\t\tcvs.addEventListener(evnt_start, function(e) {\r\n\t\t\tlet pos = {};\r\n\t\t\tpos.x = e.pageX - ori.x;\r\n\t\t\tpos.y = e.pageY - ori.y;\r\n\r\n\t\t\tev_status.i = parseInt(pos.x / unitSize);\r\n\t\t\tev_status.j = parseInt(pos.y / unitSize);\r\n\t\t\tev_status.type = 'spread';\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tev_status.type = 'rebuild';\r\n\t\t\t}, 300);\r\n\t\t});\r\n\t\tcvs.addEventListener(evnt_end, function(e) {\r\n\t\t\tif(ev_status.type === 'spread') {\r\n\t\t\t\tgrids[ev_status.i][ev_status.j].spread(-1);\r\n\t\t\t} else {\r\n\t\t\t\tset_maze(ev_status.i, ev_status.j);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tmaze = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tbox_init(box);\r\n\r\n\t\tupdate();\r\n\t}\r\n\r\n\tfunction update() {\r\n\t\tctx.fillStyle = '#fff';\r\n\t\tctx.fillRect(0, 0, globalSize, globalSize);\r\n\r\n\t\tgrids.update();\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\t}\r\n\r\n}());\r\n\r\nmaze('maze');\r\n","let snow;\r\n(function() {\r\n\tif('ontouchstart' in window) {\r\n\t\tevnt_start = 'touchstart';\r\n\t\tevnt_move = 'touchmove';\r\n\t\tevnt_end = 'touchend';\r\n\t} else {\r\n\t\tevnt_start = 'mousedown';\r\n\t\tevnt_move = 'mousemove';\r\n\t\tevnt_end = 'mouseup';\r\n\t}\r\n\tfunction random(min, max) {\r\n\t\tmin = parseInt(min);\r\n\t\tmax = parseInt(max);\r\n\t\treturn Math.floor(Math.random() * (max - min)) + min;\r\n\t}\r\n\tfunction grad_random(min, max, is_fall) {\r\n\t\tlet dis = max - min;\r\n\t\tlet step = 1 / (dis + 1);\r\n\r\n\t\tlet total = 0;\r\n\t\tlet list = [];\r\n\t\tfor(let i=1; i<=dis; i++) {\r\n\t\t\ttotal += (i * step);\r\n\t\t\tlist.push(total);\r\n\t\t}\r\n\t\tlist.map(function(val, i) {\r\n\t\t\tlist[i] = 1 - val / total;\r\n\t\t});\r\n\t\tlist.unshift(1);\r\n\r\n\t\t!is_fall && list.reverse();\r\n\r\n\t\tlet rand = 1 - Math.random();\r\n\t\tlet result = 0;\r\n\t\tfor(let i=0; i<dis; i++) {\r\n\t\t\tif(\r\n\t\t\t\t(!is_fall && rand >= list[i] && rand < list[i+1]) || (is_fall && rand >= list[i+1] && rand < list[i])\r\n\t\t\t) {\r\n\t\t\t\tresult = i + min;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tlet ori = {};\r\n\tlet flakes = [];\r\n\tlet globalSize;\r\n\tlet unitSize;\r\n\tlet cvs = document.createElement('canvas');\r\n\tlet ctx = cvs.getContext('2d');\r\n\r\n\tlet wind = 1.5;\r\n\tfunction Flake(i) {\r\n\t\tthis.x = random(0, globalSize);\r\n\t\tthis.y = random(0, globalSize);\r\n\t\t// this.z = random(10, 30) * .05;\r\n\t\tthis.z = grad_random(5, 30) * .05;\r\n\t\tthis.size = this.z * 2;\r\n\t\tthis.sp_x = this.z * wind;\r\n\t\tthis.sp_y = this.z * 4;\r\n\t}\r\n\tFlake.prototype.update = function() {\r\n\t\tlet _this = this;\r\n\t\tthis.x = (globalSize + this.x + this.sp_x) % globalSize;\r\n\t\tthis.y = (globalSize + this.y + this.sp_y) % globalSize;\r\n\t\tctx.save();\r\n\t\t\tctx.translate(this.x, this.y);\r\n\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = '#fff';\r\n\t\t\t\tctx.arc(0, 0, this.size, 0, Math.PI * 2);\r\n\t\t\t\tctx.fill();\r\n\t\t\tctx.closePath();\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tlet flake_count = 160;\r\n\tfunction set_flates() {\r\n\t\tfor(let i=0; i<flake_count; i++) {\r\n\t\t\tflakes.push(new Flake());\r\n\t\t}\r\n\r\n\t\tflakes.update = function() {\r\n\t\t\tflakes.map(function(flake) {\r\n\t\t\t\tlet tar_sp_x = flake.z * wind;\r\n\t\t\t\tif(flake.sp_x !== tar_sp_x) {\r\n\t\t\t\t\tif(Math.abs(tar_sp_x - flake.sp_x) >= .05) {\r\n\t\t\t\t\t\tflake.sp_x += (tar_sp_x - flake.sp_x) * .3;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tflake.sp_x = tar_sp_x;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tflake.update();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction box_init(box) {\r\n\t\tbox.innerHTML = '';\r\n\r\n\t\tori.x = box.offsetLeft;\r\n\t\tori.y = box.offsetTop;\r\n\t\tglobalSize = Math.min(box.offsetWidth, box.offsetHeight);\r\n\t\tunitSize = globalSize / flake_count;\r\n\r\n\t\tcvs.style.width = globalSize;\r\n\t\tcvs.style.height = globalSize;\r\n\t\tcvs.width = globalSize;\r\n\t\tcvs.height = globalSize;\r\n\r\n\t\tset_flates();\r\n\r\n\t\tcvs.addEventListener(evnt_start, function(e) {\r\n\t\t\twind = (e.pageX - ori.x) / globalSize * 6 - 3;\r\n\t\t});\r\n\t\tcvs.addEventListener(evnt_move, function(e) {\r\n\t\t\twind = (e.pageX - ori.x) / globalSize * 6 - 3;\r\n\t\t});\r\n\r\n\t\tbox.appendChild(cvs);\r\n\t}\r\n\r\n\tsnow = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tbox_init(box);\r\n\r\n\t\tupdate();\r\n\t}\r\n\r\n\tfunction update() {\r\n\t\tctx.fillStyle = '#333';\r\n\t\tctx.fillRect(0, 0, globalSize, globalSize);\r\n\r\n\t\tflakes.update();\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\t}\r\n\r\n}());\r\n\r\nsnow('snow');\r\n","let spiral;\r\n(function() {\r\n\tif('ontouchstart' in window) {\r\n\t\tevnt_move = 'touchstart';\r\n\t\tevnt_end = 'touchend';\r\n\t} else {\r\n\t\tevnt_move = 'mousemove';\r\n\t\tevnt_end = 'mouseout';\r\n\t}\r\n\r\n\tlet globalSize;\r\n\tlet cvs = document.createElement('canvas');\r\n\tlet ctx = cvs.getContext('2d');\r\n\tlet ori = {};\r\n\r\n\tfunction box_init(box) {\r\n\t\tbox.innerHTML = '';\r\n\r\n\t\tori.x = box.offsetLeft;\r\n\t\tori.y = box.offsetTop;\r\n\t\tglobalSize = Math.min(box.offsetWidth, box.offsetHeight);\r\n\r\n\t\tcvs.style.width = globalSize;\r\n\t\tcvs.style.height = globalSize;\r\n\t\tcvs.width = globalSize;\r\n\t\tcvs.height = globalSize;\r\n\r\n\t\tbox.appendChild(cvs);\r\n\t}\r\n\r\n\tlet rotate_spiral = {\r\n\t\tstep: 1,\r\n\t\tradius: 0,\r\n\t\tclockwise: true,\r\n\t\tupdate() {\r\n\t\t\tif(this.clockwise) {\r\n\t\t\t\tthis.radius -= (1.3 / (2 * Math.PI) - (2 * Math.PI)) % (2 * Math.PI);\r\n\t\t\t} else {\r\n\t\t\t\tthis.radius += (1.3 / (2 * Math.PI)) % (2 * Math.PI);\r\n\t\t\t}\r\n\t\t\tctx.save();\r\n\t\t\t\tctx.translate(rotate_spiral.x, rotate_spiral.y);\r\n\t\t\t\tctx.rotate(this.radius);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(0, 0);\r\n\t\t\t\t\tfor(let i=0; i<600; i++) {\r\n\t\t\t\t\t\tlet s_x = - Math.cos(i/(2 * Math.PI)) * i * i * .001;\r\n\t\t\t\t\t\tlet s_y = Math.sin(i/(2 * Math.PI)) * i * i * .001;\r\n\t\t\t\t\t\tctx.lineTo(s_x, s_y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.strokeStyle = '#000';\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.closePath();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tcvs.addEventListener(evnt_start, function(e) {\r\n\t\trotate_spiral.clockwise = !rotate_spiral.clockwise;\r\n\t});\r\n\r\n\tspiral = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tbox_init(box);\r\n\r\n\t\trotate_spiral.x = globalSize * .5;\r\n\t\trotate_spiral.y = globalSize * .5;\r\n\t\tupdate();\r\n\t}\r\n\r\n\tfunction update() {\r\n\t\tctx.fillStyle = 'rgba(48, 48, 48, .2)';\r\n\t\tctx.fillRect(0, 0, globalSize, globalSize);\r\n\r\n\t\trotate_spiral.update();\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\t}\r\n\r\n}());\r\n\r\nspiral('spiral');\r\n","let heartbeat;\r\n(function() {\r\n\tlet globalSize;\r\n\tlet beat_unit;\r\n\tlet cvs = document.createElement('canvas');\r\n\tlet ctx = cvs.getContext('2d');\r\n\tlet ori = {};\r\n\tlet cur = {};\r\n\tlet points = [];\r\n\r\n\tfunction box_init(box) {\r\n\t\tori.x = box.offsetLeft;\r\n\t\tori.y = box.offsetTop;\r\n\t\tglobalSize = Math.min(box.offsetWidth, box.offsetHeight);\r\n\r\n\t\tcvs.width = globalSize;\r\n\t\tcvs.height = globalSize;\r\n\t\tcur.x = 0;\r\n\t\tcur.y = globalSize * .5;\r\n\t\tpoints = [\r\n\t\t\t[   0, .5  ],\r\n\t\t\t[  .1, .35 ],\r\n\t\t\t[  .2, .6  ],\r\n\t\t\t[  .3, .5  ],\r\n\t\t\t[  .4, .6  ],\r\n\t\t\t[  .5, .5  ],\r\n\t\t\t[  .6, .6  ],\r\n\t\t\t[  .7, 0   ],\r\n\t\t\t[  .8, 1   ],\r\n\t\t\t[  .9, .3  ],\r\n\t\t\t[   1, .6  ]\r\n\t\t];\r\n\t\tbeat_unit = globalSize / (points.length * 4);\r\n\r\n\t\tpoints.map(function(point) {\r\n\t\t\tpoint[0] = globalSize * .375 + globalSize * .25 * point[0];\r\n\t\t\tpoint[1] = globalSize * .375 + globalSize * .25 * point[1];\r\n\t\t});\r\n\r\n\t\tctx.fillStyle = '#333';\r\n\t\tctx.fillRect(0, 0, globalSize, globalSize);\r\n\r\n\t\tbox.innerHTML = '';\r\n\t\tbox.appendChild(cvs);\r\n\t}\r\n\r\n\theartbeat = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tbox_init(box);\r\n\t\tupdate();\r\n\t};\r\n\r\n\r\n\tfunction get_rate(i, j) {\r\n\t\treturn (points[j][1] - points[i][1]) / (points[j][0] - points[i][0]);\r\n\t}\r\n\tfunction drawLine() {\r\n\t\tlet tar = {};\r\n\t\ttar.x = (cur.x + beat_unit) % (globalSize + beat_unit);\r\n\t\ttar.y = cur.y;\r\n\r\n\t\tlet len = points.length;\r\n\r\n\t\tif(tar.x < points[0][0] || tar.x > points[len-1][0]) {\r\n\t\t\ttar.y = globalSize * .5;\r\n\t\t} else {\r\n\t\t\tfor(let i=0, len=points.length; i<len; i++) {\r\n\t\t\t\tlet j = (i + 1) % len;\r\n\t\t\t\tif(tar.x >= points[i][0] && tar.x < points[j][0]) {\r\n\t\t\t\t\tlet k = get_rate(i, j);\r\n\t\t\t\t\ttar.y = (tar.x - cur.x) * k + cur.y;\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(tar.x < beat_unit) {\r\n\t\t\tcur.x = 0;\r\n\t\t\ttar.x = cur.x + beat_unit;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(cur.x, cur.y);\r\n\t\t\t\tctx.lineTo(tar.x, tar.y);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.strokeStyle = '#38c';\r\n\t\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t\tcur.x = tar.x;\r\n\t\tcur.y = tar.y;\r\n\t}\r\n\r\n\tfunction update() {\r\n\t\tctx.fillStyle = 'rgba(48, 48, 48, .135)';\r\n\t\tctx.fillRect(0, 0, globalSize, globalSize);\r\n\r\n\t\tdrawLine();\r\n\r\n\t\twindow.requestAnimationFrame(update);\r\n\t}\r\n}());\r\n\r\nheartbeat('heartbeat');\r\n","let round_shield;\r\n(function() {\r\n\tfunction create_hexagon(num) {\r\n\t\tlet text = '';\r\n\t\tfor(let i=0; i<num; i++) {\r\n\t\t\ttext += '<span class=\"hexagon\"></span>';\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tfunction create_row(num) {\r\n\t\tlet text = '';\r\n\t\tfor(let i=0; i<num; i++) {\r\n\t\t\ttext += ('<div class=\"shield-row\">' + create_hexagon(12) + '</div>');\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tround_shield = function(id) {\r\n\t\tlet box = document.getElementById(id);\r\n\t\tbox.innerHTML = ('<div class=\"round-shield\">' + create_row(7) + '</div>');\r\n\t}\r\n}());\r\n\r\nround_shield('round_shield');\r\n","// import './skate-rink';\r\nimport './lightbox';\r\nimport './maze';\r\nimport './snow';\r\nimport './spiral';\r\n// import './firework';\r\nimport './heartbeat';\r\nimport './roundshield';\r\n// import './dot-line';\r\n\r\n// console.log(Worker);\r\n// let component_list = ['lightbox','maze','snow','spiral','firework','heartbeat','roundshield'];\r\n// component_list.map(function(c) {\r\n// \tnew Worker('./js/'+c+'.js');\r\n// });\r\n\r\nfunction grad_random(min, max, is_fall) {\r\n\tlet dis = max - min;\r\n\tlet step = 1 / (dis + 1);\r\n\r\n\tlet total = 0;\r\n\tlet list = [];\r\n\tfor(let i=1; i<=dis; i++) {\r\n\t\ttotal += (i * step);\r\n\t\tlist.push(total);\r\n\t}\r\n\tlist.map(function(val, i) {\r\n\t\tlist[i] = 1 - val / total;\r\n\t});\r\n\tlist.unshift(1);\r\n\r\n\t!is_fall && list.reverse();\r\n\r\n\tlet rand = 1 - Math.random();\r\n\tlet result = 0;\r\n\tfor(let i=0; i<dis; i++) {\r\n\t\tif(\r\n\t\t\t(!is_fall && rand >= list[i] && rand < list[i+1]) || (is_fall && rand >= list[i+1] && rand < list[i])\r\n\t\t) {\r\n\t\t\tresult = i + min;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\n[].slice.call(document.querySelectorAll('section [title]')).map(function(block) {\r\n\tlet left = block.offsetLeft;\r\n\tlet top = block.offsetTop;\r\n\r\n\tlet title_tag = document.createElement('div');\r\n\ttitle_tag.setAttribute('class', 'title-tag');\r\n\ttitle_tag.innerHTML = block.getAttribute('title');\r\n\tblock.removeAttribute('title');\r\n\r\n\tblock.appendChild(title_tag);\r\n});\r\n"]}